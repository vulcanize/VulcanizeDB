dist: trusty
language: go
go:
- 1.12
services:
- postgresql
addons:
  postgresql: '11.2'
go_import_path: github.com/makerdao/vulcanizedb
before_install:
- make installtools
- bash ./scripts/install-postgres-11.sh
- curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
- echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
- sudo apt-get update && sudo apt-get install yarn
script:
- env GO111MODULE=on make test
- env GO111MODULE=on make integrationtest
notifications:
  email: false
env:
  matrix:
    secure: bKAeGZBwp/xeDDbyTzX6YQIiO5zjyDFlwEezbJvq/vDSUTDaHIU0iBjECzI7+3xoiLK4k5FA6W/y7CNKMx52cvkIT+uHwRnUH7bT9+WoNgHJ1kzugPMnH7EYSlw9KuYqDCbmPrZvFLQi21drDLz2sh5QKLCvZmm5EGtpOw73T+jG2wClXEwoDJ4GOsXUVo97EjzVo7hpuuX1kuB2B/3NB2LSUfEEiA7rq1Uml+Azxz2ZPfYVgyCp89gAmgbMknHCV/eAxzgGNxGzN+as385opZ214ZGE3QfoS133fNm7ESv/Cru9Txh7IEVTGC86+cuvA4FcNh3sU/0jJ3+CjHDDMemUrwgjz7196AxSHDjf6Yc+ikfiV29Rs7IF4nT0pkzVOq5Ik8i7XS4cE95Dlg/ia/4RZcah79p+U1gJrpDzqiJ2VGgELSC+jzHyHU5AwI6GglfiKpdDmeEI/2Iw747xKS0p8TfPLMl7vTZwFQQvqrtdekwD+INkhiV8Gf8rq195eX2J2lZ6n7CmaHIdevVk/rx81e9FIWYh4/Fg2mdx7GH+fr/aBrb42mzu+YJz3pqMxkLtVe13dvg4E4qseVtUViHxptarKgOAiPAk4mcNvvWJ+kbfde+Xjqj1kGNC3wZe085ec0OZSqnNBlftsiN2NxFM4ejFzYuIh7ow5n/c8O8=
